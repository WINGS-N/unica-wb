services:
  api:
    depends_on:
      redis:
        condition: service_healthy
    volumes:
      - shared-data:/data
      - ${LOCAL_UN1CA_PATH:?Set LOCAL_UN1CA_PATH in unica-wb/.env for local bind-mount mode}:/workspace/UN1CA

  worker:
    depends_on:
      redis:
        condition: service_healthy
      api:
        condition: service_started
    volumes:
      - shared-data:/data
      - ${LOCAL_UN1CA_PATH:?Set LOCAL_UN1CA_PATH in unica-wb/.env for local bind-mount mode}:/workspace/UN1CA
